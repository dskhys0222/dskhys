# 要件定義：履歴機能（Budget）

## 目的

トップページの `BudgetItem`（"モノ" / "コト"）に対して、増減操作の履歴を記録・閲覧できるようにする。

## 対象範囲

- クライアント：`packages/client/budget`
- 対象画面：`/` ルート

## 前提

- `BudgetItem` は "モノ" と "コト" の 2 つが表示される
- 履歴は "モノ" と "コト" で混ざらず、それぞれ独立して保持される

## ユーザーストーリー

- ユーザーは "モノ" の増減履歴を確認できる（"コト" の履歴は混ざらない）
- ユーザーは "コト" の増減履歴を確認できる（"モノ" の履歴は混ざらない）
- ユーザーは増額/減額を確定したタイミングで、その操作が履歴に残る

## 機能要件

1. `BudgetItem` に「履歴」ボタンを追加する
2. 「履歴」ボタン押下で、その `BudgetItem` の履歴ページへ遷移できる
3. 履歴には少なくとも以下の情報を表示できる
   - 操作日時
   - 操作種別（増額/減額）
   - 差分金額
   - 操作後の金額
4. 履歴は新しいものが上に表示される（降順）
5. 増額/減額の「確定」操作のたびに履歴を 1 件追加する
   - キャンセル時は履歴に追加しない
6. 履歴はブラウザの `localStorage` に永続化され、画面リロード後も復元される
7. "モノ" と "コト" の履歴は独立して永続化される
8. 履歴は保存期限は無制限とする

## 非機能要件

- ローカル動作（オフライン）で利用できる（`localStorage` で完結する）
